(()=>{"use strict";var e={7968:function(e,n,i){i.d(n,{$L:function(){return c},Wh:function(){return l},X:function(){return s},ck:function(){return o}});var t,a,r=i(1882),s="undefined"!=typeof indexedDB;function o(){return t}function l(e,n){a=n,t.postMessage([99,e,Math.floor(0xffffffff*Math.random())])}function c(e){var n=!1;t&&(t.terminate(),n=!0,r.oR.setState({running:!1,ready:!1,progress:null,coreError:null}),console.log("Reset worker"));var o=performance.now();t=new Worker(new URL(i.p+i.u("813"),i.b));var{useDB:l}=r.rV.getState();t.postMessage([s&&l,n,e.width,e.height,e.maxRank,e.maxLinesV1,e.maxMarksV1,...e.axiomPriority.map(n=>e.axioms[n-1]?n:0),e.useDivision,e.numX,e.numY,e.numA,e.numD,e.minAspectRatio,e.minAngleSine,e.visibility]),t.onmessage=e=>{var n=e.data,{running:i,ready:t,solutions:s,statisticsRunning:l}=r.oR.getState();if(n.text){var c=n.text;if(!t&&(c.startsWith("{")?r.oR.setState({progress:JSON.parse(c)}):"Ready"==c?console.log("Ready in ".concat(Math.floor(performance.now()-o),"ms.")):console.log(c)),"Ready"==c){r.oR.setState({running:i&&!t,ready:!0});return}if(!t)return;i?(s.push(function(e){var n=JSON.parse(e);console.log(n);var i=n.steps;for(var t of(n.steps=[],i))t.axiom>0||t==i[i.length-1]?n.steps.push(t):n.steps[n.steps.length-1].intersection=t;return n}(c)),r.oR.setState({solutions:s.concat()})):l&&a(c)}if(n.err){!r.oR.getState().coreError&&r.oR.setState({coreError:n.err});var d=Error(n.err);console.error(d),l&&a(d)}}}c(r.XZ.getState())},3566:function(e,n,i){i.d(n,{g:()=>d});var t=i("6773"),a=i("1699"),r=i("590"),s=i("2365"),o=new(i.n(s)());o.addToken([{type:0,token:"sqrt",show:"sqrt",value:Math.sqrt,precedence:11}]);var l=i("1882"),c=document.createElement("canvas");function d(e){var{max:n,value:i,exp:s,onInput:d}=e,{t:u}=(0,r.$G)(),p=(0,a.useRef)(null),m=(0,l.rV)(),h=(0,a.useRef)(null),[f,g]=(0,a.useState)(null!=s?s:i.toString()),[x,v]=(0,a.useState)(i),[b,y]=(0,a.useState)(null!=s?s:i.toString());function w(e){return e.toFixed(m.precision).replace(/0+$/,"").replace(/\.$/,"").replace(/^$/,"0")}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return!isNaN(e)&&e>=0&&(void 0===n||e<=n)}function N(){return isNaN(Number(f))&&f!=x.toString()&&!isNaN(x)}return(0,a.useEffect)(()=>{(i!=x||void 0!==s&&s!=f)&&(g(null!=s?s:i.toString()),v(i))},[i,s]),(0,a.useEffect)(()=>{!j(i)&&(g("0"),v(0),d(0,"0"))}),(0,a.useEffect)(()=>{var e,n,i;h.current.style.left=(e=p.current,n=f,(i=c.getContext("2d")).font=getComputedStyle(e).font,i.measureText(n).width+"px")}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"position-relative",children:[(0,t.jsxs)("div",{className:"exp-container",children:[(0,t.jsx)("input",{ref:p,type:"text","aria-label":"Math expression",className:"form-control exp-input "+(j()?"":"is-invalid"),value:f,onInput:e=>{var n,i;return g(n=e.currentTarget.value),void(v(i=function(e){try{return o.eval(e)}catch(e){return NaN}}(n)),j(i)&&(y(n),d(i,n)))},onBlur:function(){!j()&&(g(b),v(i))}}),(0,t.jsx)("div",{className:"suffix-container d-none d-sm-block",children:(0,t.jsx)("span",{className:"exp-suffix",ref:h,children:N()?"= ".concat(w(x)):""})})]}),(0,t.jsx)("div",{className:"exp-suffix-sm d-block d-sm-none",children:(0,t.jsx)("span",{children:N()?"= ".concat(w(x)):""})})]}),!j()&&(0,t.jsx)("div",{className:"text-danger small mt-1",children:void 0!==n?u("invalid.expMax",{max:n}):u("invalid.exp")})]})}},2916:function(e,n,i){i.d(n,{G:function(){return s}});var t=i(6773),a=i(1699),r=i(590);function s(e){var{max:n,min:i,value:s,disabled:o,onInput:l}=e,{t:c}=(0,r.$G)();void 0===i&&(i=0);var[d,u]=(0,a.useState)(s.toString());function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number(d);return Number.isSafeInteger(e)&&e>=i&&(void 0===n||e<=n)}return(0,a.useEffect)(()=>{Number(d)!=s&&u(s.toString())},[s]),(0,t.jsxs)("div",{className:"position-relative",children:[(0,t.jsx)("div",{className:"exp-container",children:(0,t.jsx)("input",{type:"number","aria-label":"Integer",className:"form-control exp-input "+(p()?"":"is-invalid"),disabled:o,value:d,onInput:e=>{var n,i;return u(n=e.currentTarget.value),void(p(i=Number(n))&&l(i))},onBlur:function(){p()?u(Number(s).toString()):u(s.toString())},min:i,max:n})}),!p()&&(0,t.jsx)("div",{className:"text-danger small",children:void 0!==n?c("invalid.intMax",{min:i,max:n}):c("invalid.int",{min:i})})]})}},6087:function(e,n,i){i.d(n,{Z:function(){return r}});var t=i(6773),a=i(8968);function r(e){var{label:n,children:i,help:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("label",{className:"col-form-label",children:[n,r&&(0,t.jsx)(a.b,{title:r})]}),(0,t.jsx)("div",{children:i})]})}},8159:function(e,n,i){i.d(n,{J:function(){return t}});var t=(0,i(1699).createContext)(void 0)},8968:function(e,n,i){i.d(n,{b:()=>r});var t=i("6773"),a=i("1699");function r(e){var{title:n,className:r}=e,s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e=s.current;e&&i.e("910").then(i.bind(i,7271)).then(n=>n.Tooltip.getOrCreateInstance(e))}),(0,t.jsx)("i",{className:r||"fa-solid fa-circle-info text-info ms-2","data-bs-toggle":"tooltip","data-bs-title":n,ref:s})}},8451:function(e,n,i){var t,a,r=i("6773"),s=i("1699"),o=i("8511"),l=i("590"),c=i("1882"),d=i("4186"),u=/([\u3040-\u30FF\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF。]) ([\u3040-\u30FF\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF])/g;function p(e){var{data:n,last:i}=e,{t}=(0,l.$G)(),a=(0,c.rV)(),s=structuredClone(n);function o(e){e.p0=p(e.p0,!0),e.p1=p(e.p1,!0),e.l0=p(e.l0),e.l1=p(e.l1)}function p(e,n){return"string"!=typeof e?e:e=e==e.toLowerCase()?t("paper."+e):n?t("phrase.point")+" "+e:t("phrase.line")+" "+e}function m(e){for(;e.match(u);)e=e.replace(u,"$1$2");return e}return o(s),s.intersection&&o(s.intersection),(0,r.jsx)("li",{children:0==s.axiom?m(t("intersection_solution",(0,d._)({},s))):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[a.showAxiom&&(0,r.jsxs)("span",{children:["[O",s.axiom,"] "]}),m((i&&!s.intersection?t("axiom_solution.".concat(s.axiom-1),(0,d._)({},s)):t("axiom.".concat(s.axiom-1),(0,d._)({},s)))+(!s.intersection&&s.pinch?" "+t("pinch"):"")),(0,r.jsx)("span",{children:" "})]}),s.intersection&&(0,r.jsx)("div",{children:m((i?t("intersection_solution",(0,d._)({},s.intersection)):t("intersection",(0,d._)({},s.intersection)))+(s.pinch?" "+t("pinch"):""))})]})})}var m=i("2351");function h(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function f(e){var{render:n,width:i,height:t,padding:a}=e,o=(0,s.useRef)(null),[l,c]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(o.current){h(o.current);var e,n,r,s,l=(e=i,n=t,r=a,(s=m.Z.svg()).size(e,n).padding(r).strokeWidth(.01),s);o.current.appendChild(l),c(l)}},[o.current,i,t]),(0,s.useEffect)(()=>{l&&(h(l),n(l))}),(0,r.jsx)("div",{ref:o})}var g=.06805293005671079,x=Math.PI/24;function v(e){return[1.15*e[0],1.15*e[1]]}function b(e,n,i){var t=e.edges.text(n.text,v(n.pt));return t.setAttribute("transform","translate(".concat(1.15*i[0]," ").concat((2*n.pt[1]-.05+i[1])*1.15,") scale(1 -1)")),t}function y(e){var{data:n,last:i,padding:t}=e,a=n[0],r=1.15*a.width,s=1.15*a.height;return f({render:function(e){var t=e.origami(m.Z.cp.rectangle(r,s));for(var a of(t.setAttribute("transform","translate(0 ".concat(s,") scale(1 -1)")),n))if(a){if(a.type==c.Hd.point&&t.edges.circle(v(a.pt),a.style==c.SC.normal?.02:.03).classList.add("point-"+c.SC[a.style]),a.type==c.Hd.line&&t.edges.line(v(a.from),v(a.to)).classList.add(a.style==c.TD.valley&&i?"target-line":"line-"+c.TD[a.style]),a.type==c.Hd.arc){var{radius:o,center:l}=a,{from:d,to:u}=a;!a.ccw&&([d,u]=[u,d]),d+=Math.min(.075/o,x),u-=Math.min(.075/o,x);var p=t.edges.arc(1.15*l[0],1.15*l[1],1.15*o,d,u);p.classList.add("arc-"+c.TD[a.style]),a.ccw&&p.classList.add("reverse"),o<.5&&(p.style.strokeWidth=Math.max(.005,.015*o/.5).toString())}if(a.type==c.Hd.label){var h=function(e,n){var i=n.filter(n=>n&&n.type==c.Hd.label&&n!=e).map(n=>{var i=e.pt[0]-n.pt[0],t=e.pt[1]-n.pt[1],a=Math.sqrt(i*i+t*t);return[i/a/a,t/a/a]});if(0==i.length)return[0,0];var t=i.map(e=>e[0]).reduce((e,n)=>e+n,0)/i.length,a=i.map(e=>e[1]).reduce((e,n)=>e+n,0)/i.length,r=Math.sqrt(t*t+a*a);return 0==r?[0,0]:[g*t/r,g*a/r]}(a,n);b(t,a,h).classList.add("label-border"),b(t,a,h).classList.add("label-"+c.gF[a.style])}}},width:r,height:s,padding:t})}function w(e){var{err:n}=e,{t:i}=(0,l.$G)();return n<1e-15?(0,r.jsx)("span",{title:i("tip.exact"),children:"⭐"}):(0,r.jsx)(r.Fragment,{})}var j="".concat(13.799999999999999,"rem");function N(e,n){var i,t,a,r=e.solution[1];var s="number"==typeof r?r.toFixed(n):(i=r,t=n,(a=Math.atan2(-i[0],i[1])/Math.PI*180)<=-90&&(a+=180),a>90&&(a-=180),a.toFixed(t)+"\xb0");return"(".concat(e.solution[0].toFixed(n),", ").concat(s,")")}function k(e){var{data:n,show:i,onSelect:t}=e,{t:a}=(0,l.$G)(),o=(0,c.rV)(),d=(0,s.useRef)(null),u=N(n,o.precision),m=n.err.toFixed(o.precision);return(0,r.jsxs)("div",{className:"card mt-3 "+(i?"":"d-sm-none"),style:{overflow:"hidden"},children:[(0,r.jsxs)("div",{className:"card-header d-none d-sm-block",children:[(0,r.jsx)(w,{err:n.err}),(0,r.jsxs)("span",{className:"d-inline-block capitalize",children:[a("phrase.solution")," ",u,","]})," ",(0,r.jsxs)("span",{className:"d-inline-block",children:[a("phrase.error")," ",m,","]})," ",(0,r.jsxs)("span",{className:"d-inline-block",children:["rank ",n.rank]})]}),i?(0,r.jsxs)("div",{ref:d,className:"card-header d-sm-none text-bg-primary",children:[(0,r.jsxs)("span",{className:"d-inline-block capitalize",children:[a("phrase.solution")," ",u,","]})," ",(0,r.jsxs)("span",{className:"d-inline-block",children:[a("phrase.error")," ",m,","]})," ",(0,r.jsxs)("span",{className:"d-inline-block",children:["rank ",n.rank]})]}):(0,r.jsx)("div",{ref:d,className:"card-header d-sm-none",onClick:()=>{t(),setTimeout(()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.scrollIntoView()},0)},style:{cursor:"pointer"},children:(0,r.jsxs)("div",{className:"row gx-0 justify-content-center align-items-top",children:[(0,r.jsx)("div",{className:"col solution-preview",style:{flex:"0 1 9rem"},children:(0,r.jsx)(y,{data:n.diagrams[n.diagrams.length-1],padding:.18})}),(0,r.jsxs)("div",{className:"col mb-2 ps-3 mt-2",style:{flex:"1 0 8rem"},children:[(0,r.jsx)("div",{children:u}),(0,r.jsxs)("div",{children:[a("phrase.error")," ",m]}),(0,r.jsxs)("div",{children:["rank ",n.rank]})]})]})}),(0,r.jsxs)("div",{className:"card-body "+(i?"":"d-none"),children:[0==n.steps.length&&(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col",style:{flex:"0 1 ".concat(j)},children:(0,r.jsx)(y,{data:n.diagrams[0],last:!0,padding:.18})}),(0,r.jsx)("div",{className:"col p-2",style:{flex:"1 1 ".concat(j)}})]}),(0,r.jsx)("div",{className:"row",children:n.steps.map((e,i)=>(0,r.jsx)("div",{className:"col-12 col-md-4 mb-sm-3",children:(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col",style:{flex:"0 1 ".concat(j)},children:(0,r.jsx)(y,{data:n.diagrams[i],last:i==n.steps.length-1,padding:.18})}),(0,r.jsx)("div",{className:"col p-2",style:{flex:"1 1 ".concat(j)},children:(0,r.jsx)("ol",{start:i+1,children:(0,r.jsx)(p,{data:e,last:i==n.steps.length-1})})})]})},i))})]})]})}function _(e){var{cp:n,points:i}=e,{width:t,height:a}=(0,c.XZ)(),r=m.Z.rect(0,0,t,a);return f({render:function(e){e.innerHTML='<defs><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="3" markerWidth="10" markerHeight="10" orient="auto-start-reverse"><path d="M 0 0 L 6 3 L 0 6 L 2 3 z" /></marker></defs>';var t=e.origami(n);if(t.setAttribute("transform","translate(0 ".concat(a,") scale(1 -1)")),i){for(var s of i)t.vertices.circle(s,.03).classList.add("target-point");if(2==i.length){var o=r.clip(m.Z.line.fromPoints(i[0],i[1]));try{t.edges.line(o[0],o[1]).classList.add("target-line")}catch(e){}}}},width:t,height:a,padding:.05})}var S=i("2312"),R=i("3566");function F(e){var{label:n,value:i,onInput:t}=e,{t:a}=(0,l.$G)(),s=(0,c.XZ)();return(0,r.jsxs)("div",{className:"row gx-2 mt-2",children:[(0,r.jsxs)("label",{className:"col-auto col-form-label capitalize",children:[a("phrase.point"),n,": (",(0,r.jsx)("span",{className:"d-none d-sm-inline",children:" x ="})]}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(R.g,{max:s.width,value:i.x,onInput:e=>t((0,S._)((0,d._)({},i),{x:e}))})}),(0,r.jsxs)("label",{className:"col-auto col-form-label",children:[",",(0,r.jsx)("span",{className:"d-none d-sm-inline",children:" y ="})]}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(R.g,{max:s.height,value:i.y,onInput:e=>t((0,S._)((0,d._)({},i),{y:e}))})}),(0,r.jsx)("label",{className:"col-auto col-form-label",children:")"})]})}var z=i("7968"),C=i("4772"),M=i("8159"),A=i("8968"),T=(0,s.lazy)(()=>Promise.all([i.e("466"),i.e("847")]).then(i.bind(i,7569)));function q(){return(0,r.jsx)("div",{className:"modal-body p-5",children:(0,r.jsx)("div",{className:"display-4 text-center",children:(0,r.jsx)("i",{className:"fa-solid fa-spinner fa-spin"})})})}function E(){var e,{t:n}=(0,l.$G)(),t=(0,c.XZ)(),a=(0,c.rV)(),[o,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(structuredClone(a)),[m,h]=(0,s.useState)(structuredClone(t)),f=(0,s.useRef)(null);var g=(e=(0,C._)(function*(){d(!0),gtag("event","ref_show_settings"),p(structuredClone(a)),h(structuredClone(t)),(yield i.e("910").then(i.bind(i,7271))).Modal.getOrCreateInstance(f.current,{backdrop:"static"}).show()}),function(){return e.apply(this,arguments)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:g,children:[(0,r.jsx)("i",{className:"fa-solid fa-gear"}),(0,r.jsxs)("span",{className:"d-none d-sm-inline-block",children:["\xa0",(0,r.jsx)("span",{className:"capitalize",children:n("phrase.settings")})]})]}),(0,r.jsx)("div",{className:"modal fade",ref:f,children:(0,r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,r.jsxs)("div",{className:"modal-content",children:[o&&(0,r.jsx)(M.J.Provider,{value:{tempDb:m,setTempDb:h},children:(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(q,{}),children:(0,r.jsx)(T,{})})}),(0,r.jsxs)("div",{className:"modal-footer",children:[(0,r.jsx)("div",{className:"flex-grow-1",children:(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{c.rV.setState(structuredClone(c.he)),h(structuredClone(c.We))},children:n("settings.reset")})}),(0,r.jsxs)("div",{children:[L(t,m)&&(0,r.jsx)(A.b,{title:n("settings.reInit"),className:"fa-solid fa-triangle-exclamation text-warning me-3"}),(0,r.jsx)("button",{type:"button",className:"btn btn-secondary me-2 capitalize","data-bs-dismiss":"modal",onClick:()=>{c.rV.setState(u)},children:n("keyword.cancel")}),(0,r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>{L(t,m)&&(c.XZ.setState(m),(0,z.$L)(m))},children:n("keyword.ok")})]})]})]})})})]})}function L(e,n){for(var i in e)if(Array.isArray(e[i])){if(L(e[i],n[i]))return!0}else if(e[i]!==n[i])return!0;return!1}var O=i("6087"),I=i("2916"),D=(0,s.lazy)(()=>Promise.all([i.e("277"),i.e("996")]).then(i.bind(i,1831))),P=[];function V(){var e,{t:n}=(0,l.$G)(),[o,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),[m,h]=(0,s.useState)(-1),[f,g]=(0,s.useState)(!1),x=(0,c.oR)(),v=(0,c.rV)(),b=(0,s.useRef)(null);var y=(e=(0,C._)(function*(){d(!0),(a=(yield i.e("910").then(i.bind(i,7271))).Modal.getOrCreateInstance(b.current,{backdrop:"static"})).show()}),function(){return e.apply(this,arguments)});function w(e){if(e instanceof Error){c.oR.setState({statisticsRunning:!1}),a.hide();return}var n=JSON.parse(e);P.push(...n.progress),h(P.length),n.done&&(p({data:P.sort((e,n)=>e-n),time:performance.now()-t}),c.oR.setState({statisticsRunning:!1}))}var j=m<0?0:m/v.trials*100;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:y,children:[(0,r.jsx)("i",{className:"fa-solid fa-chart-simple"}),(0,r.jsxs)("span",{className:"d-none d-sm-inline-block",children:["\xa0",n("statistics._")]})]}),(0,r.jsx)("div",{className:"modal fade",ref:b,children:(0,r.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[n("statistics._"),(0,r.jsx)(A.b,{title:n("help.statistics")})]}),(0,r.jsxs)("div",{className:"modal-body",children:[(0,r.jsx)("div",{className:"grid",children:(0,r.jsx)(O.Z,{label:x.statisticsRunning?m<0?"Initializing...":"".concat(m," / ").concat(v.trials):n("statistics.trials"),children:(0,r.jsx)("div",{className:"row gx-3 align-items-center",children:x.statisticsRunning?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"progress",children:(0,r.jsxs)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",style:{width:j+"%"},children:[Math.floor(j),"%"]})})}),(0,r.jsx)("div",{className:"col col-auto",children:(0,r.jsxs)("button",{className:"btn btn-secondary capitalize",type:"button",onClick:function(){gtag("event","ref_statistics_cancel"),g(!0),(0,z.ck)().postMessage("cancel")},disabled:f,children:[n("keyword.cancel"),"\xa0",(0,r.jsx)("i",{className:"fa-solid fa-spinner fa-spin"})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)(I.G,{value:v.trials,min:1,onInput:e=>c.rV.setState({trials:e})})}),(0,r.jsx)("div",{className:"col col-auto",children:(0,r.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){gtag("event","ref_statistics_run"),t=performance.now(),p(null),g(!1),P.length=0,h(-1),c.oR.setState({statisticsRunning:!0}),(0,z.Wh)(v.trials,w)},disabled:!x.ready||x.statisticsRunning,children:x.ready?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"fa-solid fa-play"}),"\xa0",(0,r.jsx)("span",{className:"capitalize",children:n("phrase.go")})]}):(0,r.jsxs)("span",{className:"capitalize",children:[n("phrase.initializing"),"\xa0",(0,r.jsx)("i",{className:"fa-solid fa-spinner fa-spin"})]})})})]})})})}),o&&(0,r.jsx)(s.Suspense,{children:(0,r.jsx)(D,{data:u})})]}),(0,r.jsx)("div",{className:"modal-footer",children:(0,r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",disabled:x.statisticsRunning,children:n("keyword.ok")})})]})})})]})}function B(e){var{onSubmit:n}=e,{t:i}=(0,l.$G)(),t=(0,c.oR)(),a=(0,c.rV)(),o=(0,c.XZ)(),[d,u]=(0,s.useState)(1),[p,h]=(0,s.useState)({x:0,y:0}),[f,g]=(0,s.useState)({x:1,y:1}),x=(0,s.useMemo)(()=>m.Z.cp.rectangle(o.width,o.height),[o.width,o.height]),v=(0,s.useMemo)(()=>{var e=[[p.x,p.y]];return 2==d&&e.push([f.x,f.y]),e},[d,p.x,p.y,f.x,f.y]);return(0,r.jsxs)("div",{className:"row mt-3 justify-content-center",children:[(0,r.jsx)("div",{className:"col mb-3",style:{flex:"0 1 12rem"},children:(0,r.jsx)(_,{cp:x,points:v})}),(0,r.jsxs)("form",{className:"col mb-3",onSubmit:function(e){e.preventDefault(),gtag("event",1==d?"ref_find_point":"ref_find_line");var i=[d,a.error,a.count,a.worstCaseError,p.x,p.y];2==d&&i.push(f.x,f.y),c.oR.setState({running:!0,solutions:[],coreError:null}),n(),(0,z.ck)().postMessage(i.map(Number))},style:{flex:"1 0 36rem"},children:[(0,r.jsxs)("div",{className:"row mb-2 pb-1",children:[(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsxs)("div",{className:"form-check",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"mode",id:"m1",checked:1==d,onChange:()=>u(1)}),(0,r.jsx)("label",{className:"form-check-label capitalize",htmlFor:"m1",children:i("phrase.findPoint")})]})}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsxs)("div",{className:"form-check",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"mode",id:"m2",checked:2==d,onChange:()=>u(2)}),(0,r.jsx)("label",{className:"form-check-label capitalize",htmlFor:"m2",children:i("phrase.findLine")})]})})]}),(0,r.jsx)(F,{label:2==d?" 1":"",value:p,onInput:e=>h(e)}),2==d&&(0,r.jsx)(F,{label:" 2",value:f,onInput:e=>g(e)}),(0,r.jsxs)("div",{className:"row mt-2 gx-2",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)(E,{})," ",(0,r.jsx)(V,{})]}),(0,r.jsx)("div",{className:"col-auto text-end",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:t.running,children:t.running&&!t.ready?(0,r.jsxs)("span",{className:"capitalize",children:[i("phrase.initializing"),"\xa0",(0,r.jsx)("i",{className:"fa-solid fa-spinner fa-spin"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("i",{className:"fa-solid fa-play"}),"\xa0",(0,r.jsx)("span",{className:"capitalize",children:i("phrase.go")})]})})})]})]})]})}function H(){var{t:e}=(0,l.$G)();return(0,r.jsx)("div",{className:"container mt-4 px-4",children:(0,r.jsxs)("footer",{className:"row justify-content-end flex-wrap pb-3",children:[(0,r.jsxs)("div",{className:"col-12 col-md-auto flex-grow-1",children:[e("phrase.coreVer"),": ",(0,r.jsxs)("a",{href:"https://github.com/MuTsunTsai/reference-finder/blob/main/CHANGELOG.md",target:"_blank",children:["v","4.5.0"]})]}),(0,r.jsxs)("div",{className:"col-12 col-md-auto",children:["\xa9 1999-2007 ",(0,r.jsx)("a",{href:"https://langorigami.com/article/referencefinder/",target:"_blank",children:"Robert J. Lang"})]}),(0,r.jsxs)("div",{className:"col-12 col-md-auto",children:["\xa9 2018-2022 ",(0,r.jsx)("a",{href:"https://github.com/mayakraft/ReferenceFinder",target:"_blank",children:"Maya Kraft"})]}),(0,r.jsxs)("div",{className:"col-12 col-md-auto",children:["\xa9 2024-",new Date().getFullYear()," ",(0,r.jsx)("a",{href:"https://github.com/mutsuntsai/reference-finder",target:"_blank",children:"Mu-Tsun Tsai"})]})]})})}var $=i("8445"),U=i("2953"),Z=i("2592"),G=JSON.parse('{"name":"English","flag":"\uD83C\uDDFA\uD83C\uDDF8","axiom":["Make crease {{x}} by folding through {{p0}} and {{p1}}.","Make crease {{x}} by bringing {{p0}} to {{p1}}.","Make crease {{x}} by bringing {{l0}} to {{l1}}.","Make crease {{x}} by bringing {{l0}} onto itself, passing through {{p0}}.","Make crease {{x}} by bringing {{p0}} to {{l0}}, passing through {{p1}}.","Make crease {{x}} by bringing {{p0}} to {{l0}} and {{p1}} to {{l1}}.","Make crease {{x}} by bringing {{l1}} onto itself and bringing {{p0}} to {{l0}}."],"axiom_solution":["The solution is made by folding through {{p0}} and {{p1}}.","The solution is made by bringing {{p0}} to {{p1}}.","The solution is made by bringing {{l0}} to {{l1}}.","The solution is made by bringing {{l0}} onto itself, passing through {{p0}}.","The solution is made by bringing {{p0}} to {{l0}}, passing through {{p1}}.","The solution is made by bringing {{p0}} to {{l0}} and {{p1}} to {{l1}}.","The solution is made by bringing {{l1}} onto itself and bringing {{p0}} to {{l0}}."],"pinch":"Pinch only at the intersection.","intersection":"Point {{x}} is at the intersection of {{l0}} and {{l1}}.","intersection_solution":"The solution is at the intersection of {{l0}} and {{l1}}.","paper":{"ne":"the top right corner","se":"the bottom right corner","sw":"the bottom left corner","nw":"the top left corner","n":"the top edge","e":"the right edge","s":"the bottom edge","w":"the left edge","sw_ne":"the upward diagonal","nw_se":"the downward diagonal"},"statistics":{"_":"Statistics","trials":"Trials","summary":{"_":"Summary","total":"Total trials","average":"Average","stdDev":"Standard deviation","runTime":"Run time"},"errorDist":"Error distribution"},"settings":{"reset":"Reset to defaults","reInit":"Requires re-initializing.","basic":{"_":"Basic","width":"Sheet width","height":"Sheet height","axioms":{"_":"Huzita-Hatori axioms","O1":"Crease through two points.","O2":"Two points together.","O3":"Line to another line.","O4":"Line to self, crease through point.","O5":"Point to line, crease through point.","O6":"Two points to two lines.","O7":"Line to self, point to line."}},"advanced":{"_":"Advanced"},"system":{"_":"System","theme":{"system":"System","light":"Light","dark":"Dark","_":"Theme"},"showInit":"Show initialization progress.","showAxiom":"Show axiom number in description.","useDB":"Cache database to device.","precision":"Precision"}},"help":{"maxRank":"This sets the maximum rank for any sequence, which is the number of folds involved in the sequence. ReferenceFinder will calculate all marks and lines up to the maximum rank, subject to the two following limits. As a practical matter, you will rarely need to set this any larger than 6 or 7; rank 6 can include over a million distinct lines.","maxLines":"This sets an absolute upper bound on the number of lines to calculate. Even if you are only searching for points, ReferenceFinder needs to calculate a large number of lines since points are defined by the intersections of existing lines.","maxMarks":"This sets a absolute upper bound on the number of marks to calculate. As a rough estimate, if this setting is N, the average error in any given point is proportional to 1/(2*sqrt(N)). This is not exact, since points tend to cluster along low-rank lines, but as a good rule of thumb, half a million to a million points will give a good error performance.","axioms":"The Huzita-Hatori Axioms group lets you choose which of the 7 axioms to include in the database, and in which order of priority. The default is to include all 7, but you can exclude one or more. Of course, the more axioms you exclude, the higher the rank you\'ll need to allow to obtain a given level of accuracy. You can also changed the order of priority. The axioms that come first in the list will be prioritized, so that when multiple sequences of the same rank give equivalent references (in terms of division settings), it will prefer the sequence using the prioritized axioms.","useDivision":"To save memory and allow searching deeper ranks, ReferenceFinder keeps only the lowest-rank sequence among equivalent marks or lines, where equivalence is determined by division settings. Disabling this will keep all references found (requires max rank to be at most 5).","divisions":"To specifically test for equivalence, the paper is divided up into a fine grid, according to the divisions settings. Two marks are considered equivalent if they fall within the same grid square, and only one of them will be kept.","lineDivisions":"Lines are characterized by their angle and distance of closest approach to the origin, and so these two settings are similarly quantized.","goodEnoughError":"When a search is performed, ReferenceFinder finds all marks (or lines) whose distance error (or an analogous quantity for lines) is better than this value. Essentially, this value is the error that you\'re willing to tolerate. Within this error, low-rank marks are considered more desirable (easier to fold) and so they will be displayed before higher-rank marks, even if the latter have lower errors.","minAspectRatio":"As a practical matter, it is very difficult to fold a long, skinny corner so that the resulting crease is straight; it is very easy for the crease to wander. If a given sequence requires the folding of a triangular flap with an aspect ratio smaller than this, it is not accepted into the database. If you don\'t care about this issue, you can set the value to zero.","minAngle":"Similarly, if two creases intersect at a very shallow angle, the location of the point at their intersection is inherently imprecise. This value is the sine of the minimum angle allowed for such intersections. If you don\'t care about this issue, you can set the value to zero.","visibility":"If this is checked, then the only alignments that are allowed are those in which all reference points are visible with opaque paper. (In some alignments, one of the layers can conceal the relevant reference point.) If you are folding with translucent paper, you can uncheck this setting, which will allow a larger number of folding sequences to be considered.","lineError":"If this is set to \\"worst-case error\\", then the error between two lines is calculated to be the worst-case separation between the two lines within the paper. Otherwise, we use the faster (but less accurate) Pythagorean difference between the parameters that define the line.","statistics":"Perform a statistical analysis of the database. This command performs a series of trials, picking random points within the paper, finding the folding sequence that gives the closest mark, and then computing the error between the two. The resulting error is binned and reported at the end of the analysis. This command is useful primarily for comparing the performance of different database settings; you will not ordinarily use it."},"tip":{"title":"Tip:","origin":"The origin of coordinates is at the lower left corner.","exp":"You can use math expression such as {{exp}} (trigonometry functions uses degrees).","exact":"This solution is within floating error, and probably is an exact folding sequence."},"phrase":{"settings":"settings","point":"point","line":"line","error":"error","solution":"solution","go":"go","initializing":"Initializing...","findLine":"find a line","findPoint":"find a point","referenceFinder":"ReferenceFinder","coreVer":"Core version"},"invalid":{"exp":"Should be a number at least 0, or an equivalent expression","expMax":"Should be a number from 0 to {{max}}, or an equivalent expression","int":"Should be an integer at least {{min}}","intMax":"Should be an integer from {{min}} to {{max}}"},"keyword":{"cancel":"cancel","ok":"OK"}}'),Q=JSON.parse('{"name":"Espa\xf1ol","flag":"\uD83C\uDDEA\uD83C\uDDF8","axiom":["Haga el pliegue {{x}} doblando entre {{p0}} y {{p1}}.","Haga el pliegue {{x}} llevando {{p0}} a {{p1}}.","Haga el pliegue {{x}} llevando {{l0}} a {{l1}}.","Haga el pliegue {{x}} que pasa por {{p0}} llevando {{l0}} sobre ella misma.","Haga que el pliegue {{x}} pase por {{p1}} llevando {{p0}} a {{l0}}.","Haga el pliegue {{x}} llevando {{p0}} a {{l0}} y {{p1}} a {{l1}}.","Haga el pliegue {{x}} que lleva {{p0}} a {{l0}} llevando {{l1}} sobre ella misma."],"axiom_solution":["La soluci\xf3n se logra plegando entre {{p0}} y {{p1}}.","La soluci\xf3n se logra llevando {{p0}} a {{p1}}.","La soluci\xf3n se logra llevando {{l0}} a {{l1}}.","La soluci\xf3n se logra llevando {{l0}} sobre ella misma, pasando por {{p0}}.","La soluci\xf3n se logra llevando {{p0}} a {{l0}}, pasando por {{p1}}.","La soluci\xf3n se logra llevando {{p0}} a {{l0}} y {{p1}} a {{l1}}.","La soluci\xf3n se logra llevando {{l1}} sobre ella misma y llevando {{p0}} a {{l0}}."],"intersection":"{{x}} es la intersecci\xf3n de {{l0}} y {{l1}}.","intersection_solution":"La soluci\xf3n es la intersecci\xf3n de {{l0}} y {{l1}}.","paper":{"ne":"la esquina superior derecha","se":"la esquina inferior derecha","sw":"la esquina inferior izquierda","nw":"la esquina superior izquierda","n":"el borde superior","e":"el borde derecho","s":"el borde inferior","w":"el borde izquierdo","sw_ne":"la diagonal que va hacia arriba","nw_se":"la diagonal que va hacia abajo"},"phrase":{"point":"punto","line":"l\xednea","error":"error","solution":"soluci\xf3n","go":"ir","findLine":"encuentre una l\xednea","findPoint":"encuentre un punto","referenceFinder":"Buscador de Referencias","settings":"ajustes","initializing":"Inicializando...","coreVer":"Versi\xf3n principal"},"settings":{"reset":"Restablecer los valores predeterminados","advanced":{"_":"Avanzado"},"basic":{"_":"B\xe1sico","height":"Altura de la hoja","width":"Ancho de hoja"},"reInit":"Requiere reinicializaci\xf3n.","system":{"theme":{"system":"Sistema","light":"Luz","dark":"Oscuro","_":"Tema"},"showInit":"Mostrar el progreso de la inicializaci\xf3n.","showAxiom":"Mostrar el n\xfamero de axioma en la descripci\xf3n.","precision":"Precisi\xf3n","_":"Sistema","useDB":"Cach\xe9 de la base de datos al dispositivo."}},"invalid":{"exp":"Debe ser un n\xfamero al menos 0, o una expresi\xf3n equivalente","expMax":"Debe ser un n\xfamero del 0 al {{max}}, o una expresi\xf3n equivalente","int":"Debe ser un n\xfamero entero al menos {{min}}","intMax":"Debe ser un n\xfamero entero de {{min}} a {{max}}"},"tip":{"title":"Consejo:","exp":"Puedes usar expresiones matem\xe1ticas como {{exp}} (las funciones trigonom\xe9tricas usan grados).","origin":"El origen de coordenadas est\xe1 en la esquina inferior izquierda.","exact":"Esta soluci\xf3n est\xe1 dentro del margen de error de punto flotante y probablemente es una secuencia de plegado exacta."},"statistics":{"_":"Estad\xedsticas","trials":"Ensayos"},"keyword":{"cancel":"Cancelar","ok":"DE ACUERDO"},"pinch":"Pellizque solo en la intersecci\xf3n."}'),J=JSON.parse('{"name":"Portugu\xeas","flag":"\uD83C\uDDF5\uD83C\uDDF9","axiom":["Fa\xe7a o vinco {{x}} dobrando atrav\xe9s da {{p0}} e {{p1}}.","Fa\xe7a o vinco {{x}} trazendo {{p0}} para {{p1}}.","Fa\xe7a o vinco {{x}} trazendo {{l0}} para {{l1}}.","Fa\xe7a o vinco {{x}} colocando {{l0}} em si mesmo, passando por {{p0}}.","Fa\xe7a o vinco {{x}} trazendo {{p0}} para {{l0}}, passando por {{p1}}.","Fa\xe7a o vinco {{x}} trazendo {{p0}} para {{l0}} e {{p1}} para {{l1}}.","Fa\xe7a o vinco {{x}} colocando {{l1}} em si mesmo e levando {{p0}} para {{l0}}."],"axiom_solution":["A solu\xe7ăo \xe9 feita dobrando atrav\xe9s da {{p0}} e {{p1}}.","A solu\xe7ăo \xe9 feita trazendo {{p0}} para {{p1}}.","A solu\xe7ăo \xe9 feita trazendo {{l0}} para {{l1}}.","A solu\xe7ăo \xe9 feita trazendo {{l0}} para si mesmo, passando por {{p0}}.","A solu\xe7ăo \xe9 feita trazendo {{p0}} para {{l0}}, passando por {{p1}}.","A solu\xe7ăo \xe9 feita trazendo {{p0}} para {{l0}} e {{p1}} para {{l1}}.","A solu\xe7ăo \xe9 feita trazendo {{l1}} para si mesmo e trazendo {{p0}} para {{l0}}."],"intersection":"O ponto {{x}} est\xe1 na interse\xe7ăo da {{l0}} e {{l1}}.","intersection_solution":"A solu\xe7ăo est\xe1 na interse\xe7ăo da {{l0}} e {{l1}}.","paper":{"ne":"o canto superior direito","se":"o canto inferior direito","sw":"o canto inferior esquerdo","nw":"o canto superior esquerdo","n":"aresta superior","e":"aresta direita","s":"aresta inferior","w":"aresta esquerda","sw_ne":"diagonal ascendente","nw_se":"diagonal descendente"},"phrase":{"point":"ponto","line":"linha","error":"erro","solution":"solu\xe7ăo","go":"ir","findLine":"encontre uma linha","findPoint":"encontre um ponto","referenceFinder":"Localizador de Refer\xeancia","settings":"configura\xe7\xf5es","initializing":"Inicializando...","coreVer":"Vers\xe3o principal"},"settings":{"reset":"Redefinir para os padr\xf5es","advanced":{"_":"Avan\xe7ado"},"basic":{"_":"B\xe1sico","height":"Altura da folha","width":"Largura da folha"},"reInit":"Requer reinicializa\xe7\xe3o.","system":{"theme":{"system":"Sistema","light":"Luz","dark":"Escuro","_":"Tema"},"showInit":"Mostrar o progresso da inicializa\xe7\xe3o.","showAxiom":"Mostre o n\xfamero do axioma na descri\xe7\xe3o.","precision":"Precis\xe3o","_":"Sistema","useDB":"Banco de dados em cache no dispositivo."}},"invalid":{"exp":"Deve ser um n\xfamero pelo menos 0 ou uma express\xe3o equivalente","expMax":"Deve ser um n\xfamero de 0 a {{max}} ou uma express\xe3o equivalente","int":"Deve ser um n\xfamero inteiro de pelo menos {{min}}","intMax":"Deve ser um n\xfamero inteiro de {{min}} a {{max}}"},"tip":{"title":"Dica:","exp":"Voc\xea pode usar express\xf5es matem\xe1ticas como {{exp}} (fun\xe7\xf5es trigonom\xe9tricas usam graus).","origin":"A origem das coordenadas est\xe1 no canto inferior esquerdo.","exact":"Esta solu\xe7\xe3o est\xe1 dentro do erro de ponto flutuante e provavelmente \xe9 uma sequ\xeancia de dobramento exata."},"statistics":{"_":"Estatisticas","trials":"Ensaios"},"keyword":{"cancel":"cancelar","ok":"OK"},"pinch":"Aperte apenas no cruzamento."}'),W=JSON.parse('{"name":"Русский","flag":"\uD83C\uDDF7\uD83C\uDDFA","axiom":["Сделайте складку {{x}} через точку {{p0}} и точку {{p1}}.","Сделайте складку {{x}} совместив точку {{p0}} и точку {{p1}}.","Сделайте складку {{x}} совместив линию {{l0}} и линию {{l1}}.","Сделайте складку {{x}} наложив линию {{l0}} на саму себя, так чтобы сгиб проходил через точку {{p0}}.","Сделайте складку {{x}} совместив точку {{p0}} с линией {{l0}}, так чтобы сгиб проходил через точку {{p1}}.","Сделайте складку {{x}} наложив точку {{p0}} на линию {{l0}} и точку {{p1}} на линию {{l1}}.","Сделайте складку {{x}} наложив {{l1}} на саму себя, так чтобы точка {{p0}} попадала на линию {{l0}}."],"axiom_solution":["Решением является складка через точку {{p0}} и точку {{p1}}.","Решение достигается путем совмещения точки {{p0}} и точки {{p1}}.","Решение достигается путем совмещения линии {{l0}} и линии {{l1}}.","Решение достигается наложением линию {{l0}} на саму себя, так чтобы сгиб проходил через точку {{p0}}.","Решение достигается совмещением точку {{p0}} с линией {{l0}}, так чтобы сгиб проходил через точку {{p1}}.","Решение достигается путем наложения точки {{p0}} на линию {{l0}} и точку {{p1}} на линию {{l1}}.","Решение достигается наложением {{l1}} на саму себя, так чтобы точка {{p0}} попадала на линию {{l0}}."],"intersection":"Точка {{x}} находится на пересечении линии {{l0}} и линии {{l1}}.","intersection_solution":"Решение находится на пересечении линии {{l0}} и линии {{l1}}.","paper":{"ne":"которая верхний правый угол","se":"которая нижний правый угол","sw":"которая нижний левый угол","nw":"которая верхний левый угол","n":"которая верхний край","e":"которая правый край","s":"которая нижний край","w":"которая левый край","sw_ne":"которая диагональ идущая вверх","nw_se":"которая нижняя идущая вниз"},"phrase":{"point":"точка","line":"линия","error":"ошибка","solution":"решение","go":"Ввод","findLine":"Найти линию","findPoint":"Найти точку","referenceFinder":"ReferenceFinder","settings":"настройки","initializing":"Инициализация...","coreVer":"Базовая версия"},"settings":{"reset":"Сбросить настройки по умолчанию","advanced":{"_":"Передовой"},"basic":{"_":"Базовый","height":"Высота листа","width":"Ширина листа"},"reInit":"Требует повторной инициализации.","system":{"theme":{"system":"Система","light":"Свет","dark":"Темный","_":"Тема"},"showInit":"Показать ход инициализации.","showAxiom":"Показывать номер аксиомы в описании.","precision":"Точность","_":"Система","useDB":"Кэшируйте базу данных на устройство."}},"invalid":{"exp":"Должно быть числом не ниже 0 или эквивалентным выражением.","expMax":"Должно быть числом от 0 до {{max}} или эквивалентным выражением.","int":"Должно быть целым числом не менее {{min}}","intMax":"Должно быть целым числом от {{min}} до {{max}}."},"tip":{"title":"Совет:","exp":"Вы можете использовать математические выражения, например {{exp}} (в функциях тригонометрии используются градусы).","origin":"Начало координат находится в левом нижнем углу.","exact":"Это решение находится в пределах погрешности вычислений с плавающей запятой и, вероятно, является точной последовательностью сворачивания."},"statistics":{"_":"Статистика","trials":"Испытания"},"keyword":{"cancel":"отмена","ok":"ХОРОШО"},"pinch":"Защипните только в месте пересечения."}'),X=JSON.parse('{"name":"日本語","flag":"\uD83C\uDDEF\uD83C\uDDF5","axiom":["{{p0}} と {{p1}} を折り目 {{x}} で結びます。","{{p0}} を {{p1}} に折ります。折り目は {{x}} です。","{{l0}} を {{l1}} に折ります。折り目は {{x}} です。","{{l0}} を折り、折り目を {{p0}} に通します。折り目は {{x}} です。","{{p0}} を {{l0}} に折り、折り目を {{p1}} に通します。折り目は {{x}} です。","{{p0}} を {{l0}} に折り、同時に {{p1}} を {{l1}} に折ります。折り目は {{x}} です。","{{l1}} を折り、同時に {{p0}} を {{l0}} に折ります。折り目は {{x}} です。"],"axiom_solution":["{{p0}} と {{p1}} を折りたたんで解答を得ます。","{{p0}} を {{p1}} に折ると解答が得られます。","{{l0}} を {{l1}} に折ると解答が得られます。","{{l0}} を折り、折り目を {{p0}} に通すと解答が得られます。","{{p0}} を {{l0}} に折り、折り目を {{p1}} に通すと解答が得られます。","{{p0}} を {{l0}} に折り、同時に {{p1}} を {{l1}} に折ると解答が得られます。","{{l1}} を折り、同時に {{p0}} を {{l0}} に折ると解答が得られます。"],"intersection":"{{l0}} と {{l1}} の交点は {{x}} です。","intersection_solution":"{{l0}} と {{l1}} の交点が解答です。","paper":{"e":"右端","n":"上端","ne":"右上隅","nw":"左上隅","nw_se":"下向き対角線","s":"下端","se":"右下隅","sw":"左下隅","sw_ne":"上向き対角線","w":"左端"},"phrase":{"error":"エラー","findLine":"ラインを見つける","findPoint":"ポイントを見つける","go":"スタート","line":"ライン","point":"ポイント","referenceFinder":"レファレンスファインダー","settings":"設定","solution":"解答","initializing":"初期化中...","coreVer":"コアバージョン"},"settings":{"reset":"デフォルト値にリセット","advanced":{"_":"高度"},"basic":{"_":"基本","height":"シートの高さ","width":"シートの幅"},"reInit":"再初期化が必要です。","system":{"theme":{"system":"システム","light":"ライト","dark":"ダーク","_":"テーマ"},"showInit":"初期化の進行状況を表示します。","showAxiom":"説明に公理番号を表示します。","precision":"精度","_":"システム","useDB":"データベースをデバイスにキャッシュします。"}},"invalid":{"exp":"少なくとも 0 以上の数値、または等価な式である必要があります","expMax":"0 から {{max}} までの数値、または等価な式である必要があります","int":"{{min}} 以上の整数である必要があります","intMax":"{{min}} から {{max}} までの整数である必要があります"},"tip":{"title":"ヒント：","exp":"{{exp}} などの数式を使用できます(三角関数は度を使用します)。","origin":"座標の原点は左下隅です。","exact":"この解答は浮動小数点誤差の範囲内にあり、おそらく正確な折りたたみシーケンスです。"},"statistics":{"_":"統計","trials":" 試練"},"keyword":{"cancel":"キャンセル","ok":"OK"},"pinch":"交差点のみピンチ。"}'),Y=JSON.parse('{"name":"简体中文","flag":"\uD83C\uDDE8\uD83C\uDDF3","axiom":["穿过 {{p0}} 和 {{p1}} 来形成折痕 {{x}}。","将 {{p0}} 折至 {{p1}} 来形成折痕 {{x}}。","将 {{l0}} 折至 {{l1}} 来形成折痕 {{x}}。","将 {{l0}} 对折、使折痕过 {{p0}}，形成折痕 {{x}}。","将 {{p0}} 折至 {{l0}}、使折痕过 {{p1}}，形成折痕 {{x}}。","将 {{p0}} 折至 {{l0}} 上、同时将 {{p1}} 折至 {{l1}} 上，形成折痕 {{x}}。","将 {{l1}} 对折、同时将 {{p0}} 折至 {{l0}} 上，形成折痕 {{x}}。"],"axiom_solution":["穿过 {{p0}} 和 {{p1}} 折叠即可得到解答。","将 {{p0}} 折至 {{p1}} 即可得到解答。","将 {{l0}} 折至 {{l1}} 即可得到解答。","将 {{l0}} 对折、使折痕通过 {{p0}}，即可得到解答。","将 {{p0}} 折至 {{l0}}、使折痕通过 {{p1}}，即可得到解答。","将 {{p0}} 折至 {{l0}} 上、同时将 {{p1}} 折至 {{l1}} 上，即可得到解答。","将 {{l1}} 对折、同时将 {{p0}} 折至 {{l0}} 上，即可得到解答。"],"intersection":"点 {{x}} 为 {{l0}} 和 {{l1}} 的交点。","intersection_solution":"{{l0}} 和 {{l1}} 的交点即为解答。","paper":{"e":"右边缘","n":"上边缘","ne":"右上角","nw":"左上角","nw_se":"向下的对角线","s":"下边缘","se":"右下角","sw":"左下角","sw_ne":"向上的对角线","w":"左边缘"},"phrase":{"error":"误差","findLine":"找一条线","findPoint":"找一个点","go":"开始","line":"线","point":"点","referenceFinder":"ReferenceFinder","settings":"设置","solution":"解答","initializing":"正在初始化...","coreVer":"核心版本"},"settings":{"reset":"重设为默认值","advanced":{"_":"进阶"},"basic":{"_":"基本","height":"纸张高度","width":"纸张宽度"},"reInit":"需要重新初始化。","system":{"theme":{"system":"系统","light":"明亮","dark":"黑暗","_":"主题"},"showInit":"显示初始化进度。","showAxiom":"在描述中显示公理编号。","precision":"精确度","_":"系统","useDB":"将数据库缓存到设备中。"}},"invalid":{"exp":"应该是至少 0 的数字，或等效表达式","expMax":"应该是 0 到 {{max}} 之间的数字，或等效表达式","int":"应该是至少 {{min}} 的整数","intMax":"应该是从 {{min}} 到 {{max}} 的整数"},"tip":{"title":"提示：","exp":"您可以使用数学表达式如 {{exp}}（三角函数使用度数）。","origin":"坐标原点位于左下角。","exact":"此解答在浮点误差范围内，可能是精确的折序。"},"statistics":{"_":"统计","trials":"试验"},"keyword":{"cancel":"取消","ok":"确定"},"pinch":"仅在交叉点处留下折痕。"}'),K=JSON.parse('{"name":"正體中文","flag":"\uD83C\uDDF9\uD83C\uDDFC","axiom":["穿過 {{p0}} 和 {{p1}} 來形成摺痕 {{x}}。","將 {{p0}} 摺至 {{p1}} 來形成摺痕 {{x}}。","將 {{l0}} 摺至 {{l1}} 來形成摺痕 {{x}}。","將 {{l0}} 對摺、使摺痕通過 {{p0}}，形成摺痕 {{x}}。","將 {{p0}} 摺至 {{l0}}、使摺痕通過 {{p1}}，形成摺痕 {{x}}。","將 {{p0}} 摺至 {{l0}} 上、同時將 {{p1}} 摺至 {{l1}} 上，形成摺痕 {{x}}。","將 {{l1}} 對摺、同時將 {{p0}} 摺至 {{l0}} 上，形成摺痕 {{x}}。"],"axiom_solution":["穿過 {{p0}} 和 {{p1}} 摺疊即可得到解答。","將 {{p0}} 摺至 {{p1}} 即可得到解答。","將 {{l0}} 摺至 {{l1}} 即可得到解答。","將 {{l0}} 對摺、使摺痕通過 {{p0}}，即可得到解答。","將 {{p0}} 摺至 {{l0}}、使摺痕通過 {{p1}}，即可得到解答。","將 {{p0}} 摺至 {{l0}} 上、同時將 {{p1}} 摺至 {{l1}} 上，即可得到解答。","將 {{l1}} 對摺、同時將 {{p0}} 摺至 {{l0}} 上，即可得到解答。"],"intersection":"點 {{x}} 為 {{l0}} 和 {{l1}} 的交點。","intersection_solution":"{{l0}} 和 {{l1}} 的交點即為解答。","paper":{"e":"右邊緣","n":"上邊緣","ne":"右上角","nw":"左上角","nw_se":"向下的對角線","s":"下邊緣","se":"右下角","sw":"左下角","sw_ne":"向上的對角線","w":"左邊緣"},"phrase":{"error":"誤差","findLine":"找一條線","findPoint":"找一個點","go":"開始","line":"線","point":"點","referenceFinder":"ReferenceFinder","settings":"設定","solution":"解答","initializing":"正在初始化...","coreVer":"核心版本"},"settings":{"reset":"重設為預設值","advanced":{"_":"進階"},"basic":{"_":"基本","height":"紙張高度","width":"紙張寬度"},"reInit":"需要重新初始化。","system":{"theme":{"system":"系統","light":"明亮","dark":"黑暗","_":"主題"},"showInit":"顯示初始化進度。","showAxiom":"在描述中顯示公理編號。","precision":"精確度","_":"系統","useDB":"將資料庫快取到裝置中。"}},"invalid":{"exp":"應該是至少 0 的數字，或等價表達式","expMax":"應該是 0 到 {{max}} 之間的數字，或等價表達式","int":"應該是至少 {{min}} 的整數","intMax":"應該是從 {{min}} 到 {{max}} 的整數"},"tip":{"title":"提示：","exp":"您可以使用數學表達式如 {{exp}}（三角函數使用度數）。","origin":"座標原點位於左下角。","exact":"此解答在浮點誤差範圍內，可能是精確的摺序。"},"statistics":{"_":"統計","trials":"試驗"},"keyword":{"cancel":"取消","ok":"確定"},"pinch":"僅在交叉點處留下摺痕。"}');Z.Z&&(K.name="繁體中文",K.flag="\uD83C\uDDED\uD83C\uDDF0");var ee={en:{translation:G},es:{translation:Q},ja:{translation:X},pt:{translation:J},ru:{translation:W},"zh-CN":{translation:Y},"zh-TW":{translation:K}},en=Object.keys(ee);function ei(){var{t:e,i18n:n}=(0,l.$G)();return(0,s.useEffect)(()=>{document.title=e("phrase.referenceFinder")},[n.language]),(0,r.jsx)("select",{className:"form-select flag d-inline-block",style:{width:"max-content"},"aria-label":"Language",value:n.language,onChange:e=>n.changeLanguage(e.currentTarget.value),children:en.map(n=>(0,r.jsxs)("option",{value:n,children:[e("flag",{lng:n})," ",e("name",{lng:n})]},n))})}$.ZP.use(U.Z).use(l.Db).init({resources:ee,fallbackLng:"en",supportedLngs:en,detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});var et=i("9577");!("structuredClone"in globalThis)&&(globalThis.structuredClone=et.ZP),o.createRoot(document.getElementById("root")).render((0,r.jsx)(s.StrictMode,{children:(0,r.jsx)(function(){var{t:e}=(0,l.$G)(),n=(0,c.oR)(),i=(0,c.rV)(),[t,a]=(0,s.useState)(0),[o,d]=(0,s.useState)(!0),u=matchMedia("(prefers-color-scheme: dark)");return(0,s.useEffect)(u.onchange=()=>d(u.matches)),(0,s.useEffect)(()=>{var e=c.Q2.light;(i.theme==c.Q2.dark||i.theme==c.Q2.system&&o)&&(e=c.Q2.dark),i.theme==c.Q2.rabbit&&(e=c.Q2.rabbit),c.oR.setState({computedTheme:e}),document.documentElement.dataset.bsTheme=c.Q2[e]},[i.theme,o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"container px-4",children:[(0,r.jsxs)("div",{className:"row gx-0 py-2",children:[(0,r.jsx)("div",{className:"col small text-muted",children:n.progress&&i.showInit&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"d-none d-sm-block",children:[n.ready?"":"Initializing"," ",n.progress.lines," lines and ",n.progress.marks," marks of rank ≤ ",n.progress.rank,n.ready?" ready.":"..."]}),(0,r.jsxs)("div",{className:"d-sm-none",style:{lineHeight:1},children:[n.progress.lines," lines",(0,r.jsx)("br",{}),n.progress.marks," marks",n.ready?"":"..."]})]})}),(0,r.jsx)("div",{className:"col-auto",children:(0,r.jsx)(ei,{})})]}),(0,r.jsx)("h1",{children:e("phrase.referenceFinder")}),(0,r.jsx)(B,{onSubmit:()=>a(0)}),n.coreError&&(0,r.jsxs)("div",{className:"text-danger mb-3",children:["Error: ",n.coreError]})||0==n.solutions.length&&(!n.ready||!n.running)&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("div",{children:e("tip.title")}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:e("tip.origin")}),(0,r.jsx)("li",{children:e("tip.exp",{exp:"1/sqrt(2)+sin(10)",interpolation:{escapeValue:!1}})})]})]})]}),(0,r.jsx)("section",{className:"solutions d-none d-sm-flex",children:n.solutions.length>0&&(0,r.jsx)("div",{className:"container px-4",children:(0,r.jsx)("div",{className:"row gx-2",children:n.solutions.map((n,s)=>(0,r.jsx)("div",{className:"col mb-2",style:{flex:"0 1 12rem"},children:(0,r.jsxs)("button",{type:"button",onClick:()=>a(s),className:"w-100 p-1 btn btn-ld col solution-preview "+(t==s?"active":""),children:[(0,r.jsx)(y,{data:n.diagrams[n.diagrams.length-1],padding:.1}),(0,r.jsx)("div",{children:N(n,i.precision)}),(0,r.jsxs)("div",{children:[(0,r.jsx)(w,{err:n.err}),e("phrase.error")," ",n.err.toFixed(i.precision)]}),(0,r.jsxs)("div",{children:["rank ",n.rank]})]})},s))})})}),(0,r.jsx)("div",{className:"container px-4 flex-grow-1",children:n.solutions.map((e,n)=>(0,r.jsx)(k,{data:e,show:t==n,onSelect:()=>a(n)},n))}),(0,r.jsx)(H,{})]})},{})}))},1882:function(e,n,i){i.d(n,{Hd:function(){return x},Q2:function(){return d},SC:function(){return v},TD:function(){return b},We:function(){return m},XZ:function(){return g},gF:function(){return y},he:function(){return u},oR:function(){return h},rV:function(){return f}});var t,a,r,s,o,l=i(7474),c=i(2879);var d=((t={})[t.system=0]="system",t[t.light=1]="light",t[t.dark=2]="dark",t[t.rabbit=3]="rabbit",t),u={showInit:!0,showAxiom:!1,useDB:!0,theme:0,error:.005,errorExp:"1/200",worstCaseError:!0,count:5,precision:4,trials:1e5},p={progress:null,ready:!1,running:!1,coreError:null,solutions:[],statisticsRunning:!1,computedTheme:1},m={width:1,widthExp:"1",height:1,heightExp:"1",maxRank:6,maxLinesV1:6e5,maxMarksV1:6e5,useDivision:!0,numX:5e3,numY:5e3,numA:5e3,numD:5e3,minAspectRatio:.1,minAspectRatioExp:"1/10",minAngleSine:.342,minAngleSineExp:"sin(20)",visibility:!0,axioms:[!0,!0,!0,!0,!0,!0,!0],axiomPriority:[2,3,7,6,5,4,1]},h=(0,l.U)(()=>p),f=(0,l.U)((0,c.tJ)(()=>u,{name:"settings"})),g=(0,l.U)((0,c.tJ)(()=>m,{name:"db"}));var x=((a={})[a.point=0]="point",a[a.line=1]="line",a[a.arc=2]="arc",a[a.poly=3]="poly",a[a.label=4]="label",a);var v=((r={})[r.normal=0]="normal",r[r.highlight=1]="highlight",r[r.action=2]="action",r);var b=((s={})[s.crease=0]="crease",s[s.edge=1]="edge",s[s.highlight=2]="highlight",s[s.valley=3]="valley",s[s.mountain=4]="mountain",s[s.arrow=5]="arrow",s[s.dotted=6]="dotted",s[s.pinch=7]="pinch",s);var y=((o={})[o.normal=0]="normal",o[o.highlight=1]="highlight",o[o.action=2]="action",o)}},n={};function i(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.m=e,i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,{a:n}),n},i.d=function(e,n){for(var t in n)i.o(n,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce(function(n,t){return i.f[t](e,n),n},[]))},i.u=function(e){return"static/js/async/"+("813"===e?"ref":e)+"."+({277:"7fcd0c2f",466:"fdb26167",813:"834448b9",847:"dd5b4879",910:"923443d0",996:"a8aebab3"})[e]+".js"},i.miniCssF=function(e){return""+e+".css"},i.h=function(){return"de0e32f9ce8b800e"},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},(()=>{var e={},n="reference-finder:";i.l=function(t,a,r,s){if(e[t]){e[t].push(a);return}if(void 0!==r){for(var o,l,c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+r){o=u;break}}}!o&&(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",n+r),o.src=t),e[t]=[a];var p=function(n,i){o.onerror=o.onload=null,clearTimeout(m);var a=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(function(e){return e(i)}),n)return n(i)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];i.O=function(n,t,a,r){if(t){r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[t,a,r];return}for(var o=1/0,s=0;s<e.length;s++){for(var t=e[s][0],a=e[s][1],r=e[s][2],l=!0,c=0;c<t.length;c++)(!1&r||o>=r)&&Object.keys(i.O).every(function(e){return i.O[e](t[c])})?t.splice(c--,1):(l=!1,r<o&&(o=r));if(l){e.splice(s--,1);var d=a();void 0!==d&&(n=d)}}return n}})(),(()=>{i.p="/reference-finder/";var e,n,t={addQuery:!0,test:e=>!e.includes("gtag")},a=t.max||3,r={},s=/[?#].*$/;function o(e,n,i,a,r){var o,l;return e.replace(n,i).replace(s,"")+(o=a+1,l=r,!0===t.addQuery?""!==l?"".concat(l,"&retry=").concat(o):"?retry=".concat(o):"function"==typeof t.addQuery?t.addQuery({times:o,originalQuery:l}):"")}var l={},c=i.e,d=i.u,u=null!==(e=null!==(n=i.miniCssF)&&void 0!==n?n:i.k)&&void 0!==e?e:function(){return null},p=i.l,m="[@rsbuild/plugin-assets-retry] ";function h(e,n,s,p,f,g,x,v){for(var b=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{count:0},y=arguments.length,w=Array(y>9?y-9:0),j=9;j<y;j++)w[j-9]=arguments[j];var N=c.apply(void 0,[e,n,s,p,f,g,x,v,b].concat(w));try{var k=d(e),_=u(e);"undefined"!=typeof window&&(k&&(window.__RB_ASYNC_CHUNKS__[k]=!0),_&&(window.__RB_ASYNC_CHUNKS__[_]=!0))}catch(e){console.error(m,"get original script or css filename error",e)}return"number"!=typeof(null==b?void 0:b.count)?N:(b.count+=1,N.catch(function(c){var u,y,j,N,k,_=b.count-1;try{var S=function(e,n){var a,s,c,u,p=(a=e,s=n,null===(c=r[a])||void 0===c?void 0:c[s]),m=n+1;if(0===n||void 0===p)u=function(e){var n,a,r,s=d(e),l=i.p,c=l.startsWith("/")?window.origin+l+s:l+s;var u=(n=c.split("?")[1])?"?".concat(n.split("#")[0]):"",p=null!==(a=null===(r=t.domain)||void 0===r?void 0:r[0])&&void 0!==a?a:window.origin;return{nextDomain:p,nextRetryUrl:o(c,p,p,0,u),originalScriptFilename:s,originalSrcUrl:c,originalQuery:u}}(e),r[e]=[];else{var h,f,g,x,v,b=p.originalScriptFilename,y=p.originalSrcUrl,w=p.originalQuery;var j=(h=p.nextDomain,g=null!==(f=t.domain)&&void 0!==f?f:[],x=function(e){for(var n,i=null!==(n=t.domain)&&void 0!==n?n:[],a="",r=0;r<i.length;r++)if(-1!==e.indexOf(i[r])){a=i[r];break}return a||window.origin}(h),v=g.indexOf(x),g[(v+1)%g.length]||h);u={nextDomain:j,nextRetryUrl:o(p.nextRetryUrl,p.nextDomain,j,n,w),originalScriptFilename:b,originalSrcUrl:y,originalQuery:w}}return r[e][m]=u,l[e]=u,u}(e,_);y=S.originalScriptFilename,j=S.nextRetryUrl,N=S.nextDomain}catch(e){throw console.error(m,"failed to get nextRetryUrl",e),c}var R=!!(null==c||null===(u=c.message)||void 0===u?void 0:u.includes("CSS chunk")),F=function(e){return{times:e,domain:N,url:j,tagName:R?"link":"script",isAsyncChunk:!0}},z=F(_);if(_>=a)throw c.message=null!==(k=c.message)&&void 0!==k&&k.includes("retries:")?c.message:"Loading chunk ".concat(e,' from "').concat(y,'" failed after ').concat(a,' retries: "').concat(c.message,'"'),"function"==typeof t.onFail&&t.onFail(z),c;var C=t.test;if(C){if("string"==typeof C){var M=new RegExp(C);C=function(e){return M.test(e)}}if("function"!=typeof C||!C(j))throw c}if(t.domain&&t.domain.length>0&&-1===t.domain.indexOf(N))throw c;return"function"==typeof t.onRetry&&t.onRetry(z),h.apply(void 0,[e,n,s,p,f,g,x,v,b].concat(w)).then(function(e){var n=(null==b?void 0:b.count)===_+2;if("function"==typeof t.onSuccess&&n){var i=F(_+1);t.onSuccess(i)}return e})}))}function f(e,n,i,t){for(var a=l[t],r=arguments.length,s=Array(r>4?r-4:0),o=4;o<r;o++)s[o-4]=arguments[o];return p.apply(void 0,[a?a.nextRetryUrl:e,n,i,t].concat(s))}!function(){"undefined"!=typeof window&&!window.__RB_ASYNC_CHUNKS__&&(window.__RB_ASYNC_CHUNKS__={});try{i.e=h,i.l=f}catch(e){console.error(m,"Register async chunk retry runtime failed",e)}}()})(),i.rv=function(){return"1.1.8"},(()=>{i.b=document.baseURI||self.location.href;var e={980:0};i.f.j=function(n,t){var a=i.o(e,n)?e[n]:void 0;if(0!==a){if(a)t.push(a[2]);else{var r=new Promise(function(i,t){a=e[n]=[i,t]});t.push(a[2]=r);var s=i.p+i.u(n),o=Error();i.l(s,function(t){if(i.o(e,n)&&(0!==(a=e[n])&&(e[n]=void 0),a)){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;o.message="Loading chunk "+n+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,a[1](o)}},"chunk-"+n,n)}}},i.O.j=function(n){return 0===e[n]};var n=function(n,t){var a=t[0],r=t[1],s=t[2],o,l,c=0;if(a.some(function(n){return 0!==e[n]})){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(s)var d=s(i)}for(n&&n(t);c<a.length;c++)l=a[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},t=self.webpackChunkreference_finder=self.webpackChunkreference_finder||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})(),i.ruid="bundler=rspack@1.1.8";var t=i.O(void 0,["966","606","971"],function(){return i("8451")});t=i.O(t)})();